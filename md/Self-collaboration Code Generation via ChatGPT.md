# Self-collaboration Code Generation via ChatGPT

## Abstract

Code generation is widely regarded as a key technique for elevating the automation and ultimate quality of software development. Nevertheless, existing code generation approaches usually concentrate on a single stage of the software development process (i.e., the coding stage) and do not take into consideration other stages that are crucial in reducing complexity and ensuring quality assurance. The organization and conduction of multiple stages in software development require collaborative teamwork. To this end, this paper presents a self-collaboration framework for code generation employing large language models (LLMs), exemplified by ChatGPT. Specifically, multiple LLMs play distinct roles through role instructions to form teams, addressing code generation tasks collaboratively and interactively without the need for human intervention. To showcase our framework, we assemble an elementary team consisting of three ChatGPT roles (i.e., analyst, coder, and tester) corresponding to the analysis, coding, and testing stages of software development. We conduct comprehensive experiments on various code-generation benchmarks. The experimental results indicate that self-collaboration code generation improves 29.9%-47.1% relative performance compared to naive direct code generation, achieving state-of-the-art performance and even surpassing GPT-4.

代码生成被广泛认为是提高软件开发的自动化和最终质量的关键技术。然而，现有的代码生成方法通常只关注软件开发过程的单一阶段（即编码阶段），而没有考虑到降低复杂度和保证质量的其他重要阶段。软件开发中多个阶段的组织和实施需要协作团队。为此，本文提出了一个基于大型语言模型（LLMs）的自协作代码生成框架，以ChatGPT为例。具体来说，多个LLMs通过角色指令扮演不同的角色，形成团队，协同并交互地完成代码生成任务，无需人为干预。为了展示我们的框架，我们组建了一个由三个ChatGPT角色（即分析师、编码器和测试器）组成的基本团队，分别对应软件开发过程中的分析、编码和测试阶段。我们在各种代码生成基准上进行了全面的实验。实验结果表明，自协作代码生成相比于直接代码生成提高了29.9%-47.1%的相对性能，达到了最先进的水平，甚至超过了GPT-4。

## 8 Conclusion

In this paper, we have proposed a self-collaboration framework aimed at enhancing the problemsolving capabilities of LLMs through collaborative and interactive approaches. Specifically, we have investigated the potential of ChatGPT in facilitating team-based code generation and collaboration within software development processes. To this end, we assemble an elementary team consisting of three distinct ChatGPT roles, designed to address code generation tasks collaboratively. In order to evaluate the effectiveness and generalization of our proposed framework, we conduct extensive experiments on a variety of code generation benchmarks. The experimental results provide substantial evidence supporting the efficacy and generalizability of our self-collaboration framework. We believe that enabling models to form their own teams and collaborate in accomplishing complex tasks is a crucial step toward achieving AGI.

在本文中，我们提出了一个自协作框架，旨在通过协作和交互的方法提高LLMs的问题解决能力。具体来说，我们探讨了ChatGPT在促进基于团队的代码生成和软件开发过程中的协作方面的潜力。为此，我们组建了一个由三个不同的ChatGPT角色组成的基本团队，设计了协作完成代码生成任务的方法。为了评估我们提出的框架的有效性和泛化性，我们在多种代码生成基准上进行了广泛的实验。实验结果为我们的自协作框架的有效性和泛化性提供了有力的证据。我们相信，使模型能够形成自己的团队并协作完成复杂任务，是实现AGI的关键一步。
